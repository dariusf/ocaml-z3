(ocamllex Smtlib_lexer)

(menhir
 (modules Smtlib_parser))

(library
  (name smtlib)
  (libraries core bignum z3)
  (virtual_deps menhir)
  (inline_tests)
  (preprocess (pps ppx_deriving.std))
  (ocamlc_flags -custom -cclib -lstdc++)
  (ocamlopt_flags -cclib -lstdc++))